<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mrfioc2: devMrmBuf.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mrfioc2
   &#160;<span id="projectnumber">2.3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b5e366c1e62ba4b579f86e465be36608.html">evrMrmApp</a></li><li class="navelem"><a class="el" href="dir_d54e7386bc4ea06680ff63c1d93638bd.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">devMrmBuf.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="dev_obj_8h_source.html">devObj.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="object_8h_source.html">mrf/object.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="databuf_8h_source.html">mrf/databuf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mrm_data_buf_tx_8h_source.html">mrmDataBufTx.h</a>&quot;</code><br />
<code>#include &lt;epicsExport.h&gt;</code><br />
<code>#include &quot;<a class="el" href="dev_mrm_buf_8h_source.html">devMrmBuf.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for devMrmBuf.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="dev_mrm_buf_8cpp__incl.png" border="0" usemap="#dev_mrm_buf_8cpp" alt=""/></div>
<map name="dev_mrm_buf_8cpp" id="dev_mrm_buf_8cpp">
<area shape="rect" id="node2" href="dev_obj_8h.html" title="devObj.h" alt="" coords="557,155,637,181"/>
<area shape="rect" id="node13" href="object_8h.html" title="mrf/object.h" alt="" coords="1109,229,1210,256"/>
<area shape="rect" id="node39" href="databuf_8h.html" title="mrf/databuf.h" alt="" coords="1352,155,1463,181"/>
<area shape="rect" id="node40" href="mrm_data_buf_tx_8h.html" title="mrmDataBufTx.h" alt="" coords="1383,80,1517,107"/>
<area shape="rect" id="node43" href="dev_mrm_buf_8h.html" title="C interface for data buffer sending and receiving. " alt="" coords="1791,80,1899,107"/>
<area shape="rect" id="node27" href="mrf_common_8h.html" title="mrfCommon.h" alt="" coords="639,304,755,331"/>
<area shape="rect" id="node37" href="linkoptions_8h.html" title="Hardware link parsing and storage. " alt="" coords="1775,304,1882,331"/>
</map>
</div>
</div>
<p><a href="dev_mrm_buf_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmrm_buffer_info.html">mrmBufferInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2c53907136ff115a53fcbdc6df404fb0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8cpp.html#a2c53907136ff115a53fcbdc6df404fb0">BUF_RX</a>&#160;&#160;&#160;&quot;:BUFRX&quot;</td></tr>
<tr class="separator:a2c53907136ff115a53fcbdc6df404fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5cdf7bed8cdf45c6c148df6535b192"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8cpp.html#adb5cdf7bed8cdf45c6c148df6535b192">BUF_TX</a>&#160;&#160;&#160;&quot;:BUFTX&quot;</td></tr>
<tr class="separator:adb5cdf7bed8cdf45c6c148df6535b192"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a268409797fa0c413eae326ca6751861d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8cpp.html#a268409797fa0c413eae326ca6751861d">mrmBufInit</a> (const char *dev_name)</td></tr>
<tr class="memdesc:a268409797fa0c413eae326ca6751861d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize buffer data structure.  <a href="#a268409797fa0c413eae326ca6751861d">More...</a><br /></td></tr>
<tr class="separator:a268409797fa0c413eae326ca6751861d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c51a3ad3662d34377907cf915dbaee"><td class="memItemLeft" align="right" valign="top">epicsStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8cpp.html#a66c51a3ad3662d34377907cf915dbaee">mrmBufRxSupported</a> (<a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *data)</td></tr>
<tr class="memdesc:a66c51a3ad3662d34377907cf915dbaee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether receive buffer is supported.  <a href="#a66c51a3ad3662d34377907cf915dbaee">More...</a><br /></td></tr>
<tr class="separator:a66c51a3ad3662d34377907cf915dbaee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffedfb1895c5465e51bc13e91b63395"><td class="memItemLeft" align="right" valign="top">epicsStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8cpp.html#a2ffedfb1895c5465e51bc13e91b63395">mrmBufTxSupported</a> (<a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *data)</td></tr>
<tr class="memdesc:a2ffedfb1895c5465e51bc13e91b63395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether transferring buffer is supported.  <a href="#a2ffedfb1895c5465e51bc13e91b63395">More...</a><br /></td></tr>
<tr class="separator:a2ffedfb1895c5465e51bc13e91b63395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58707e0c81c26008e543397ab0154239"><td class="memItemLeft" align="right" valign="top">epicsStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8cpp.html#a58707e0c81c26008e543397ab0154239">mrmBufEnable</a> (<a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *data)</td></tr>
<tr class="memdesc:a58707e0c81c26008e543397ab0154239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable buffer sending logic.  <a href="#a58707e0c81c26008e543397ab0154239">More...</a><br /></td></tr>
<tr class="separator:a58707e0c81c26008e543397ab0154239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a972ffef5a6b1475662d1f3ad61f99fd2"><td class="memItemLeft" align="right" valign="top">epicsStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8cpp.html#a972ffef5a6b1475662d1f3ad61f99fd2">mrmBufDisable</a> (<a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *data)</td></tr>
<tr class="memdesc:a972ffef5a6b1475662d1f3ad61f99fd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable buffer sending logic.  <a href="#a972ffef5a6b1475662d1f3ad61f99fd2">More...</a><br /></td></tr>
<tr class="separator:a972ffef5a6b1475662d1f3ad61f99fd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a13152eef64627f7094782c90afc7be"><td class="memItemLeft" align="right" valign="top">epicsStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8cpp.html#a0a13152eef64627f7094782c90afc7be">mrmBufMaxLen</a> (<a class="el" href="structmrm_buffer_info.html">mrmBufferInfo</a> *data, epicsUInt32 *maxLength)</td></tr>
<tr class="memdesc:a0a13152eef64627f7094782c90afc7be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get maximum supported buffer length.  <a href="#a0a13152eef64627f7094782c90afc7be">More...</a><br /></td></tr>
<tr class="separator:a0a13152eef64627f7094782c90afc7be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8e6a56bbb1a2324727d0cdf34e77054"><td class="memItemLeft" align="right" valign="top">epicsStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8cpp.html#ad8e6a56bbb1a2324727d0cdf34e77054">mrmBufSend</a> (<a class="el" href="structmrm_buffer_info.html">mrmBufferInfo</a> *data, epicsUInt32 len, epicsUInt8 *buf)</td></tr>
<tr class="memdesc:ad8e6a56bbb1a2324727d0cdf34e77054"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send buffer data.  <a href="#ad8e6a56bbb1a2324727d0cdf34e77054">More...</a><br /></td></tr>
<tr class="separator:ad8e6a56bbb1a2324727d0cdf34e77054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a017b2b3036f253b8215993647dd277da"><td class="memItemLeft" align="right" valign="top">epicsStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8cpp.html#a017b2b3036f253b8215993647dd277da">mrmBufRegCallback</a> (<a class="el" href="structmrm_buffer_info.html">mrmBufferInfo</a> *data, <a class="el" href="dev_mrm_buf_8h.html#af363c75897d350af10066a370b31a7e3">mrmBufRecievedCallback</a> callback, void *pass)</td></tr>
<tr class="memdesc:a017b2b3036f253b8215993647dd277da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register data receive callback function.  <a href="#a017b2b3036f253b8215993647dd277da">More...</a><br /></td></tr>
<tr class="separator:a017b2b3036f253b8215993647dd277da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2c53907136ff115a53fcbdc6df404fb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c53907136ff115a53fcbdc6df404fb0">&#9670;&nbsp;</a></span>BUF_RX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_RX&#160;&#160;&#160;&quot;:BUFRX&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00014">14</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>

</div>
</div>
<a id="adb5cdf7bed8cdf45c6c148df6535b192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb5cdf7bed8cdf45c6c148df6535b192">&#9670;&nbsp;</a></span>BUF_TX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_TX&#160;&#160;&#160;&quot;:BUFTX&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00015">15</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a972ffef5a6b1475662d1f3ad61f99fd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a972ffef5a6b1475662d1f3ad61f99fd2">&#9670;&nbsp;</a></span>mrmBufDisable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus mrmBufDisable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable buffer sending logic. </p>
<p>Disables data buffer logic for both transfer and receive functionality.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00109">109</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                                 {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span>(data &amp;&amp; data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>-&gt;<a class="code" href="classdata_buf_rx.html#ad2cae6ad66c666732297fe1dd0351142">dataRxEnable</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span>(data &amp;&amp; data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>-&gt;<a class="code" href="classmrm_data_buf_tx.html#a47b09c6c5d8cfa0a72150fdb87990fcc">dataTxEnable</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_ae42a77e402b671d816666c217c7e85e9"><div class="ttname"><a href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">mrmBufferInfo::bufTx</a></div><div class="ttdeci">mrmDataBufTx * bufTx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00019">devMrmBuf.cpp:19</a></div></div>
<div class="ttc" id="classmrm_data_buf_tx_html_a47b09c6c5d8cfa0a72150fdb87990fcc"><div class="ttname"><a href="classmrm_data_buf_tx.html#a47b09c6c5d8cfa0a72150fdb87990fcc">mrmDataBufTx::dataTxEnable</a></div><div class="ttdeci">virtual void dataTxEnable(bool) OVERRIDE FINAL</div><div class="ttdef"><b>Definition:</b> <a href="mrm_data_buf_tx_8cpp_source.html#l00054">mrmDataBufTx.cpp:54</a></div></div>
<div class="ttc" id="classdata_buf_rx_html_ad2cae6ad66c666732297fe1dd0351142"><div class="ttname"><a href="classdata_buf_rx.html#ad2cae6ad66c666732297fe1dd0351142">dataBufRx::dataRxEnable</a></div><div class="ttdeci">virtual void dataRxEnable(bool)=0</div></div>
<div class="ttc" id="structmrm_buffer_info_html_a7d46910fa635f8cf8d55f15b0d5d46db"><div class="ttname"><a href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">mrmBufferInfo::bufRx</a></div><div class="ttdeci">dataBufRx * bufRx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00018">devMrmBuf.cpp:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58707e0c81c26008e543397ab0154239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58707e0c81c26008e543397ab0154239">&#9670;&nbsp;</a></span>mrmBufEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus mrmBufEnable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable buffer sending logic. </p>
<p>Enables data buffer logic for both transfer and receive functionality. This is already called by the enable record so it is only needed if the records for buffer enabling are not present.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00096">96</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                                {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span>(data &amp;&amp; data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>-&gt;<a class="code" href="classdata_buf_rx.html#ad2cae6ad66c666732297fe1dd0351142">dataRxEnable</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">if</span>(data &amp;&amp; data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>-&gt;<a class="code" href="classmrm_data_buf_tx.html#a47b09c6c5d8cfa0a72150fdb87990fcc">dataTxEnable</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_ae42a77e402b671d816666c217c7e85e9"><div class="ttname"><a href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">mrmBufferInfo::bufTx</a></div><div class="ttdeci">mrmDataBufTx * bufTx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00019">devMrmBuf.cpp:19</a></div></div>
<div class="ttc" id="classmrm_data_buf_tx_html_a47b09c6c5d8cfa0a72150fdb87990fcc"><div class="ttname"><a href="classmrm_data_buf_tx.html#a47b09c6c5d8cfa0a72150fdb87990fcc">mrmDataBufTx::dataTxEnable</a></div><div class="ttdeci">virtual void dataTxEnable(bool) OVERRIDE FINAL</div><div class="ttdef"><b>Definition:</b> <a href="mrm_data_buf_tx_8cpp_source.html#l00054">mrmDataBufTx.cpp:54</a></div></div>
<div class="ttc" id="classdata_buf_rx_html_ad2cae6ad66c666732297fe1dd0351142"><div class="ttname"><a href="classdata_buf_rx.html#ad2cae6ad66c666732297fe1dd0351142">dataBufRx::dataRxEnable</a></div><div class="ttdeci">virtual void dataRxEnable(bool)=0</div></div>
<div class="ttc" id="structmrm_buffer_info_html_a7d46910fa635f8cf8d55f15b0d5d46db"><div class="ttname"><a href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">mrmBufferInfo::bufRx</a></div><div class="ttdeci">dataBufRx * bufRx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00018">devMrmBuf.cpp:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a268409797fa0c413eae326ca6751861d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a268409797fa0c413eae326ca6751861d">&#9670;&nbsp;</a></span>mrmBufInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a>* mrmBufInit </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dev_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize buffer data structure. </p>
<p>This function allocates and initializes the structure for use with other functions. Device name should correspond to the same name as is used when initializing <a class="el" href="class_e_v_r.html" title="Base interface for EVRs. ">EVR</a> or EVG device with either mrmEv*SetupVME or mrmEv*SetupPCI functions / iocsh commands.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_name</td><td>The name of the device to use for buffer sending and receiving</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the structure pointer on success and NULL on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00024">24</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;                                                  {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="structmrm_buffer_info.html">mrmBufferInfo_t</a> *data  = NULL;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="classmrf_1_1_object.html">mrf::Object</a> *<span class="keywordtype">object</span> = NULL;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    std::string bufRxName(dev_name);</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    std::string bufTxName(dev_name);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span>(!dev_name) {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufInit ERROR: NULL device name!\n&quot;</span>);</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    }</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span>(!(data = (<a class="code" href="structmrm_buffer_info.html">mrmBufferInfo_t</a> *)calloc(1, <span class="keyword">sizeof</span>(<a class="code" href="structmrm_buffer_info.html">mrmBufferInfo_t</a>)))) {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufInit ERROR: failed to allocate memory for buffer info!\n&quot;</span>);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    bufRxName += <a class="code" href="dev_mrm_buf_8cpp.html#a2c53907136ff115a53fcbdc6df404fb0">BUF_RX</a>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    bufTxName += <a class="code" href="dev_mrm_buf_8cpp.html#adb5cdf7bed8cdf45c6c148df6535b192">BUF_TX</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">object</span> = <a class="code" href="classmrf_1_1_object.html#af4cd81266a005175d9223709db30fa87">mrf::Object::getObject</a>(bufRxName);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">if</span>(!<span class="keywordtype">object</span>) {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufInit WARNING: failed to find object &#39;%s&#39;\n&quot;</span>, bufRxName.c_str());</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classdata_buf_rx.html">dataBufRx</a>*<span class="keyword">&gt;</span>(object);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordtype">object</span> = <a class="code" href="classmrf_1_1_object.html#af4cd81266a005175d9223709db30fa87">mrf::Object::getObject</a>(bufTxName);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span>(!<span class="keywordtype">object</span>) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufInit WARNING: failed to find object &#39;%s&#39;\n&quot;</span>, bufTxName.c_str());</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classmrm_data_buf_tx.html">mrmDataBufTx</a>*<span class="keyword">&gt;</span>(object);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">if</span>(!data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a> &amp;&amp; !data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufInit: ERROR: failed to find both objects!\n&quot;</span>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        free(data);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        data = NULL;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">return</span> data;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_ae42a77e402b671d816666c217c7e85e9"><div class="ttname"><a href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">mrmBufferInfo::bufTx</a></div><div class="ttdeci">mrmDataBufTx * bufTx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00019">devMrmBuf.cpp:19</a></div></div>
<div class="ttc" id="dev_mrm_buf_8cpp_html_a2c53907136ff115a53fcbdc6df404fb0"><div class="ttname"><a href="dev_mrm_buf_8cpp.html#a2c53907136ff115a53fcbdc6df404fb0">BUF_RX</a></div><div class="ttdeci">#define BUF_RX</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00014">devMrmBuf.cpp:14</a></div></div>
<div class="ttc" id="classmrm_data_buf_tx_html"><div class="ttname"><a href="classmrm_data_buf_tx.html">mrmDataBufTx</a></div><div class="ttdef"><b>Definition:</b> <a href="mrm_data_buf_tx_8h_source.html#l00019">mrmDataBufTx.h:19</a></div></div>
<div class="ttc" id="classmrf_1_1_object_html"><div class="ttname"><a href="classmrf_1_1_object.html">mrf::Object</a></div><div class="ttdoc">Base object inspection. </div><div class="ttdef"><b>Definition:</b> <a href="object_8h_source.html#l00378">object.h:378</a></div></div>
<div class="ttc" id="classmrf_1_1_object_html_af4cd81266a005175d9223709db30fa87"><div class="ttname"><a href="classmrf_1_1_object.html#af4cd81266a005175d9223709db30fa87">mrf::Object::getObject</a></div><div class="ttdeci">static Object * getObject(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="object_8cpp_source.html#l00107">object.cpp:107</a></div></div>
<div class="ttc" id="structmrm_buffer_info_html"><div class="ttname"><a href="structmrm_buffer_info.html">mrmBufferInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00017">devMrmBuf.cpp:17</a></div></div>
<div class="ttc" id="dev_mrm_buf_8cpp_html_adb5cdf7bed8cdf45c6c148df6535b192"><div class="ttname"><a href="dev_mrm_buf_8cpp.html#adb5cdf7bed8cdf45c6c148df6535b192">BUF_TX</a></div><div class="ttdeci">#define BUF_TX</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00015">devMrmBuf.cpp:15</a></div></div>
<div class="ttc" id="classdata_buf_rx_html"><div class="ttname"><a href="classdata_buf_rx.html">dataBufRx</a></div><div class="ttdef"><b>Definition:</b> <a href="databuf_8h_source.html#l00062">databuf.h:62</a></div></div>
<div class="ttc" id="structmrm_buffer_info_html_a7d46910fa635f8cf8d55f15b0d5d46db"><div class="ttname"><a href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">mrmBufferInfo::bufRx</a></div><div class="ttdeci">dataBufRx * bufRx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00018">devMrmBuf.cpp:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a13152eef64627f7094782c90afc7be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a13152eef64627f7094782c90afc7be">&#9670;&nbsp;</a></span>mrmBufMaxLen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus mrmBufMaxLen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">epicsUInt32 *&#160;</td>
          <td class="paramname"><em>maxLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get maximum supported buffer length. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure </td></tr>
    <tr><td class="paramname">maxLength</td><td>Maximum buffer length in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00122">122</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                                                      {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span>(!data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufMaxLen: ERROR: transfer structure not initialized!\n&quot;</span>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        *maxLength = data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>-&gt;<a class="code" href="classmrm_data_buf_tx.html#a8ce3e6ef822f6a3e3e409f1e4385f410">lenMax</a>();</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    } <span class="keywordflow">catch</span>(std::exception &amp;e) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufMaxLen: EXCEPTION: %s\n&quot;</span>, e.what());</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_ae42a77e402b671d816666c217c7e85e9"><div class="ttname"><a href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">mrmBufferInfo::bufTx</a></div><div class="ttdeci">mrmDataBufTx * bufTx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00019">devMrmBuf.cpp:19</a></div></div>
<div class="ttc" id="classmrm_data_buf_tx_html_a8ce3e6ef822f6a3e3e409f1e4385f410"><div class="ttname"><a href="classmrm_data_buf_tx.html#a8ce3e6ef822f6a3e3e409f1e4385f410">mrmDataBufTx::lenMax</a></div><div class="ttdeci">virtual epicsUInt32 lenMax() const OVERRIDE FINAL</div><div class="ttdef"><b>Definition:</b> <a href="mrm_data_buf_tx_8cpp_source.html#l00084">mrmDataBufTx.cpp:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a017b2b3036f253b8215993647dd277da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a017b2b3036f253b8215993647dd277da">&#9670;&nbsp;</a></span>mrmBufRegCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus mrmBufRegCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#af363c75897d350af10066a370b31a7e3">mrmBufRecievedCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register data receive callback function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to be registered </td></tr>
    <tr><td class="paramname">param</td><td>Parameter which is passed to the calllback when it is executed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00156">156</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                                                                                 {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span>(!data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufRegCallback: ERROR: receive structure not initialized!\n&quot;</span>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>-&gt;<a class="code" href="classdata_buf_rx.html#aa972387787617d11c7d80c08813bb2df">dataRxAddReceive</a>(callback, pass);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    } <span class="keywordflow">catch</span>(std::exception &amp;e) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufRegCallback: EXCEPTION: %s\n&quot;</span>, e.what());</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_a7d46910fa635f8cf8d55f15b0d5d46db"><div class="ttname"><a href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">mrmBufferInfo::bufRx</a></div><div class="ttdeci">dataBufRx * bufRx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00018">devMrmBuf.cpp:18</a></div></div>
<div class="ttc" id="classdata_buf_rx_html_aa972387787617d11c7d80c08813bb2df"><div class="ttname"><a href="classdata_buf_rx.html#aa972387787617d11c7d80c08813bb2df">dataBufRx::dataRxAddReceive</a></div><div class="ttdeci">virtual void dataRxAddReceive(dataBufComplete fptr, void *arg=0)=0</div><div class="ttdoc">Register to receive data buffers. </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66c51a3ad3662d34377907cf915dbaee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66c51a3ad3662d34377907cf915dbaee">&#9670;&nbsp;</a></span>mrmBufRxSupported()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus mrmBufRxSupported </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether receive buffer is supported. </p>
<p>Since some devices (<a class="el" href="class_e_v_r.html" title="Base interface for EVRs. ">EVR</a> or EVG) might only support transfer functionality this function allows you to check whether you can call all receive-related functions for this device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 1 if supported, 0 if not and -1 if data is NULL. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00067">67</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                                     {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span>(!data) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufRxSupported ERROR: NULL data parameter!\n&quot;</span>);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span>(data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_a7d46910fa635f8cf8d55f15b0d5d46db"><div class="ttname"><a href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">mrmBufferInfo::bufRx</a></div><div class="ttdeci">dataBufRx * bufRx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00018">devMrmBuf.cpp:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad8e6a56bbb1a2324727d0cdf34e77054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8e6a56bbb1a2324727d0cdf34e77054">&#9670;&nbsp;</a></span>mrmBufSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus mrmBufSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">epicsUInt32&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">epicsUInt8 *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send buffer data. </p>
<p>The function blocks until data is sent completely.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure </td></tr>
    <tr><td class="paramname">len</td><td>Buffer length in bytes </td></tr>
    <tr><td class="paramname">buf</td><td>Array of buffer data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00139">139</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                                                              {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span>(!data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufSend: ERROR: transfer structure not initialized!\n&quot;</span>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>-&gt;<a class="code" href="classmrm_data_buf_tx.html#a65a2049dcb3aadf984330e9c54e79779">dataSend</a>(len, buf);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    } <span class="keywordflow">catch</span>(std::exception &amp;e) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufSend: EXCEPTION: %s\n&quot;</span>, e.what());</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_ae42a77e402b671d816666c217c7e85e9"><div class="ttname"><a href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">mrmBufferInfo::bufTx</a></div><div class="ttdeci">mrmDataBufTx * bufTx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00019">devMrmBuf.cpp:19</a></div></div>
<div class="ttc" id="classmrm_data_buf_tx_html_a65a2049dcb3aadf984330e9c54e79779"><div class="ttname"><a href="classmrm_data_buf_tx.html#a65a2049dcb3aadf984330e9c54e79779">mrmDataBufTx::dataSend</a></div><div class="ttdeci">virtual void dataSend(epicsUInt32 len, const epicsUInt8 *buf) OVERRIDE FINAL</div><div class="ttdoc">Transmit a byte array. </div><div class="ttdef"><b>Definition:</b> <a href="mrm_data_buf_tx_8cpp_source.html#l00090">mrmDataBufTx.cpp:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ffedfb1895c5465e51bc13e91b63395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ffedfb1895c5465e51bc13e91b63395">&#9670;&nbsp;</a></span>mrmBufTxSupported()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus mrmBufTxSupported </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether transferring buffer is supported. </p>
<p>Since some devices (<a class="el" href="class_e_v_r.html" title="Base interface for EVRs. ">EVR</a> or EVG) might only support receive functionality this function allows you to check whether you can call all transfer-related functions for this device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 1 if supported, 0 if not and -1 if data is NULL. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00081">81</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                                     {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span>(!data) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufTxSupported ERROR: NULL data parameter!\n&quot;</span>);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">if</span>(data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_ae42a77e402b671d816666c217c7e85e9"><div class="ttname"><a href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">mrmBufferInfo::bufTx</a></div><div class="ttdeci">mrmDataBufTx * bufTx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00019">devMrmBuf.cpp:19</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 22 2023 08:45:38 for mrfioc2 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
