<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mrfioc2: devMrmBuf.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mrfioc2
   &#160;<span id="projectnumber">2.6.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b5e366c1e62ba4b579f86e465be36608.html">evrMrmApp</a></li><li class="navelem"><a class="el" href="dir_d54e7386bc4ea06680ff63c1d93638bd.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">devMrmBuf.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>C interface for data buffer sending and receiving.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;epicsTypes.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for devMrmBuf.h:</div>
<div class="dyncontent">
<div class="center"><img src="dev_mrm_buf_8h__incl.png" border="0" usemap="#dev_mrm_buf_8h" alt=""/></div>
<map name="dev_mrm_buf_8h" id="dev_mrm_buf_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="dev_mrm_buf_8h__dep__incl.png" border="0" usemap="#dev_mrm_buf_8hdep" alt=""/></div>
<map name="dev_mrm_buf_8hdep" id="dev_mrm_buf_8hdep">
<area shape="rect" id="node2" href="dev_mrm_buf_8cpp.html" title="devMrmBuf.cpp" alt="" coords="5,80,128,107"/>
</map>
</div>
</div>
<p><a href="dev_mrm_buf_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a59fc5f7e3c82a703c90168cfb0349fe8"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structmrm_buffer_info.html">mrmBufferInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a></td></tr>
<tr class="memdesc:a59fc5f7e3c82a703c90168cfb0349fe8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The buffer information data structure.  <a href="#a59fc5f7e3c82a703c90168cfb0349fe8">More...</a><br /></td></tr>
<tr class="separator:a59fc5f7e3c82a703c90168cfb0349fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af363c75897d350af10066a370b31a7e3"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8h.html#af363c75897d350af10066a370b31a7e3">mrmBufRecievedCallback</a>) (void *arg, epicsStatus status, epicsUInt32 length, const epicsUInt8 *buffer)</td></tr>
<tr class="memdesc:af363c75897d350af10066a370b31a7e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer received callback function.  <a href="#af363c75897d350af10066a370b31a7e3">More...</a><br /></td></tr>
<tr class="separator:af363c75897d350af10066a370b31a7e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad04327072486a593012c101a9d886e85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> epicsShareFunc *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8h.html#ad04327072486a593012c101a9d886e85">mrmBufInit</a> (const char *dev_name)</td></tr>
<tr class="memdesc:ad04327072486a593012c101a9d886e85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize buffer data structure.  <a href="#ad04327072486a593012c101a9d886e85">More...</a><br /></td></tr>
<tr class="separator:ad04327072486a593012c101a9d886e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a723e3284624dbb0aeeca2c18aacb2133"><td class="memItemLeft" align="right" valign="top">epicsStatus epicsShareFunc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8h.html#a723e3284624dbb0aeeca2c18aacb2133">mrmBufRxSupported</a> (<a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *data)</td></tr>
<tr class="memdesc:a723e3284624dbb0aeeca2c18aacb2133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether receive buffer is supported.  <a href="#a723e3284624dbb0aeeca2c18aacb2133">More...</a><br /></td></tr>
<tr class="separator:a723e3284624dbb0aeeca2c18aacb2133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45152003fe490b8352cc7991a9f32354"><td class="memItemLeft" align="right" valign="top">epicsStatus epicsShareFunc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8h.html#a45152003fe490b8352cc7991a9f32354">mrmBufTxSupported</a> (<a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *data)</td></tr>
<tr class="memdesc:a45152003fe490b8352cc7991a9f32354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether transferring buffer is supported.  <a href="#a45152003fe490b8352cc7991a9f32354">More...</a><br /></td></tr>
<tr class="separator:a45152003fe490b8352cc7991a9f32354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae055c184cb1a90bed0ff7842e786bfe8"><td class="memItemLeft" align="right" valign="top">epicsStatus epicsShareFunc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8h.html#ae055c184cb1a90bed0ff7842e786bfe8">mrmBufEnable</a> (<a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *data)</td></tr>
<tr class="memdesc:ae055c184cb1a90bed0ff7842e786bfe8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable buffer sending logic.  <a href="#ae055c184cb1a90bed0ff7842e786bfe8">More...</a><br /></td></tr>
<tr class="separator:ae055c184cb1a90bed0ff7842e786bfe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6baec73ae459a06ca557e8681c4b4cfa"><td class="memItemLeft" align="right" valign="top">epicsStatus epicsShareFunc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8h.html#a6baec73ae459a06ca557e8681c4b4cfa">mrmBufDisable</a> (<a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *data)</td></tr>
<tr class="memdesc:a6baec73ae459a06ca557e8681c4b4cfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable buffer sending logic.  <a href="#a6baec73ae459a06ca557e8681c4b4cfa">More...</a><br /></td></tr>
<tr class="separator:a6baec73ae459a06ca557e8681c4b4cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f9e5be2c64a544c3f6849437daee723"><td class="memItemLeft" align="right" valign="top">epicsStatus epicsShareFunc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8h.html#a0f9e5be2c64a544c3f6849437daee723">mrmBufMaxLen</a> (<a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *data, epicsUInt32 *maxLength)</td></tr>
<tr class="memdesc:a0f9e5be2c64a544c3f6849437daee723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get maximum supported buffer length.  <a href="#a0f9e5be2c64a544c3f6849437daee723">More...</a><br /></td></tr>
<tr class="separator:a0f9e5be2c64a544c3f6849437daee723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42923c6b71f03edeb9ffb4d8b07ef246"><td class="memItemLeft" align="right" valign="top">epicsStatus epicsShareFunc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8h.html#a42923c6b71f03edeb9ffb4d8b07ef246">mrmBufSend</a> (<a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *data, epicsUInt32 len, epicsUInt8 *buf)</td></tr>
<tr class="memdesc:a42923c6b71f03edeb9ffb4d8b07ef246"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send buffer data.  <a href="#a42923c6b71f03edeb9ffb4d8b07ef246">More...</a><br /></td></tr>
<tr class="separator:a42923c6b71f03edeb9ffb4d8b07ef246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9adfa1825ac074fe8be7fb89f349d41b"><td class="memItemLeft" align="right" valign="top">epicsStatus epicsShareFunc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev_mrm_buf_8h.html#a9adfa1825ac074fe8be7fb89f349d41b">mrmBufRegCallback</a> (<a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *data, <a class="el" href="dev_mrm_buf_8h.html#af363c75897d350af10066a370b31a7e3">mrmBufRecievedCallback</a> callback, void *param)</td></tr>
<tr class="memdesc:a9adfa1825ac074fe8be7fb89f349d41b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register data receive callback function.  <a href="#a9adfa1825ac074fe8be7fb89f349d41b">More...</a><br /></td></tr>
<tr class="separator:a9adfa1825ac074fe8be7fb89f349d41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>C interface for data buffer sending and receiving. </p>
<dl class="section author"><dt>Author</dt><dd>Jure Krasna <a href="#" onclick="location.href='mai'+'lto:'+'jur'+'e.'+'kra'+'sn'+'a@c'+'os'+'yla'+'b.'+'com'; return false;">jure.<span style="display: none;">.nosp@m.</span>kras<span style="display: none;">.nosp@m.</span>na@co<span style="display: none;">.nosp@m.</span>syla<span style="display: none;">.nosp@m.</span>b.com</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="dev_mrm_buf_8h_source.html">devMrmBuf.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a59fc5f7e3c82a703c90168cfb0349fe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59fc5f7e3c82a703c90168cfb0349fe8">&#9670;&nbsp;</a></span>mrmBufferInfo_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structmrm_buffer_info.html">mrmBufferInfo</a> <a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The buffer information data structure. </p>
<p>This structure holds references to receive and send classes for a specific device - either a receiver or a generator. </p>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8h_source.html#l00023">23</a> of file <a class="el" href="dev_mrm_buf_8h_source.html">devMrmBuf.h</a>.</p>

</div>
</div>
<a id="af363c75897d350af10066a370b31a7e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af363c75897d350af10066a370b31a7e3">&#9670;&nbsp;</a></span>mrmBufRecievedCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mrmBufRecievedCallback) (void *arg, epicsStatus status, epicsUInt32 length, const epicsUInt8 *buffer)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer received callback function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Parameter which is assigned at callback registration </td></tr>
    <tr><td class="paramname">status</td><td>Status of the receive action (0 = ok) </td></tr>
    <tr><td class="paramname">length</td><td>Length of the buffer in bytes </td></tr>
    <tr><td class="paramname">buffer</td><td>Buffer data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8h_source.html#l00033">33</a> of file <a class="el" href="dev_mrm_buf_8h_source.html">devMrmBuf.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6baec73ae459a06ca557e8681c4b4cfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6baec73ae459a06ca557e8681c4b4cfa">&#9670;&nbsp;</a></span>mrmBufDisable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus epicsShareFunc mrmBufDisable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable buffer sending logic. </p>
<p>Disables data buffer logic for both transfer and receive functionality.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00109">109</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                                 {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span>(data &amp;&amp; data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>-&gt;<a class="code" href="classdata_buf_rx.html#ad2cae6ad66c666732297fe1dd0351142">dataRxEnable</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span>(data &amp;&amp; data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>-&gt;<a class="code" href="classmrm_data_buf_tx.html#a47b09c6c5d8cfa0a72150fdb87990fcc">dataTxEnable</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_ae42a77e402b671d816666c217c7e85e9"><div class="ttname"><a href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">mrmBufferInfo::bufTx</a></div><div class="ttdeci">mrmDataBufTx * bufTx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00019">devMrmBuf.cpp:19</a></div></div>
<div class="ttc" id="classmrm_data_buf_tx_html_a47b09c6c5d8cfa0a72150fdb87990fcc"><div class="ttname"><a href="classmrm_data_buf_tx.html#a47b09c6c5d8cfa0a72150fdb87990fcc">mrmDataBufTx::dataTxEnable</a></div><div class="ttdeci">virtual void dataTxEnable(bool) OVERRIDE FINAL</div><div class="ttdef"><b>Definition:</b> <a href="mrm_data_buf_tx_8cpp_source.html#l00054">mrmDataBufTx.cpp:54</a></div></div>
<div class="ttc" id="classdata_buf_rx_html_ad2cae6ad66c666732297fe1dd0351142"><div class="ttname"><a href="classdata_buf_rx.html#ad2cae6ad66c666732297fe1dd0351142">dataBufRx::dataRxEnable</a></div><div class="ttdeci">virtual void dataRxEnable(bool)=0</div></div>
<div class="ttc" id="structmrm_buffer_info_html_a7d46910fa635f8cf8d55f15b0d5d46db"><div class="ttname"><a href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">mrmBufferInfo::bufRx</a></div><div class="ttdeci">dataBufRx * bufRx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00018">devMrmBuf.cpp:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae055c184cb1a90bed0ff7842e786bfe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae055c184cb1a90bed0ff7842e786bfe8">&#9670;&nbsp;</a></span>mrmBufEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus epicsShareFunc mrmBufEnable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable buffer sending logic. </p>
<p>Enables data buffer logic for both transfer and receive functionality. This is already called by the enable record so it is only needed if the records for buffer enabling are not present.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00096">96</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                                {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span>(data &amp;&amp; data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>-&gt;<a class="code" href="classdata_buf_rx.html#ad2cae6ad66c666732297fe1dd0351142">dataRxEnable</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">if</span>(data &amp;&amp; data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>-&gt;<a class="code" href="classmrm_data_buf_tx.html#a47b09c6c5d8cfa0a72150fdb87990fcc">dataTxEnable</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_ae42a77e402b671d816666c217c7e85e9"><div class="ttname"><a href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">mrmBufferInfo::bufTx</a></div><div class="ttdeci">mrmDataBufTx * bufTx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00019">devMrmBuf.cpp:19</a></div></div>
<div class="ttc" id="classmrm_data_buf_tx_html_a47b09c6c5d8cfa0a72150fdb87990fcc"><div class="ttname"><a href="classmrm_data_buf_tx.html#a47b09c6c5d8cfa0a72150fdb87990fcc">mrmDataBufTx::dataTxEnable</a></div><div class="ttdeci">virtual void dataTxEnable(bool) OVERRIDE FINAL</div><div class="ttdef"><b>Definition:</b> <a href="mrm_data_buf_tx_8cpp_source.html#l00054">mrmDataBufTx.cpp:54</a></div></div>
<div class="ttc" id="classdata_buf_rx_html_ad2cae6ad66c666732297fe1dd0351142"><div class="ttname"><a href="classdata_buf_rx.html#ad2cae6ad66c666732297fe1dd0351142">dataBufRx::dataRxEnable</a></div><div class="ttdeci">virtual void dataRxEnable(bool)=0</div></div>
<div class="ttc" id="structmrm_buffer_info_html_a7d46910fa635f8cf8d55f15b0d5d46db"><div class="ttname"><a href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">mrmBufferInfo::bufRx</a></div><div class="ttdeci">dataBufRx * bufRx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00018">devMrmBuf.cpp:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad04327072486a593012c101a9d886e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad04327072486a593012c101a9d886e85">&#9670;&nbsp;</a></span>mrmBufInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> epicsShareFunc* mrmBufInit </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dev_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize buffer data structure. </p>
<p>This function allocates and initializes the structure for use with other functions. Device name should correspond to the same name as is used when initializing <a class="el" href="class_e_v_r.html" title="Base interface for EVRs. ">EVR</a> or EVG device with either mrmEv*SetupVME or mrmEv*SetupPCI functions / iocsh commands.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_name</td><td>The name of the device to use for buffer sending and receiving</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the structure pointer on success and NULL on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00024">24</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;                                                  {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="structmrm_buffer_info.html">mrmBufferInfo_t</a> *data  = NULL;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="classmrf_1_1_object.html">mrf::Object</a> *<span class="keywordtype">object</span> = NULL;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    std::string bufRxName(dev_name);</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    std::string bufTxName(dev_name);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span>(!dev_name) {</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufInit ERROR: NULL device name!\n&quot;</span>);</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    }</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span>(!(data = (<a class="code" href="structmrm_buffer_info.html">mrmBufferInfo_t</a> *)calloc(1, <span class="keyword">sizeof</span>(<a class="code" href="structmrm_buffer_info.html">mrmBufferInfo_t</a>)))) {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufInit ERROR: failed to allocate memory for buffer info!\n&quot;</span>);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    bufRxName += <a class="code" href="dev_mrm_buf_8cpp.html#a2c53907136ff115a53fcbdc6df404fb0">BUF_RX</a>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    bufTxName += <a class="code" href="dev_mrm_buf_8cpp.html#adb5cdf7bed8cdf45c6c148df6535b192">BUF_TX</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">object</span> = <a class="code" href="classmrf_1_1_object.html#af4cd81266a005175d9223709db30fa87">mrf::Object::getObject</a>(bufRxName);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">if</span>(!<span class="keywordtype">object</span>) {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufInit WARNING: failed to find object &#39;%s&#39;\n&quot;</span>, bufRxName.c_str());</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classdata_buf_rx.html">dataBufRx</a>*<span class="keyword">&gt;</span>(object);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    }</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordtype">object</span> = <a class="code" href="classmrf_1_1_object.html#af4cd81266a005175d9223709db30fa87">mrf::Object::getObject</a>(bufTxName);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span>(!<span class="keywordtype">object</span>) {</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufInit WARNING: failed to find object &#39;%s&#39;\n&quot;</span>, bufTxName.c_str());</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classmrm_data_buf_tx.html">mrmDataBufTx</a>*<span class="keyword">&gt;</span>(object);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">if</span>(!data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a> &amp;&amp; !data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufInit: ERROR: failed to find both objects!\n&quot;</span>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        free(data);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        data = NULL;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">return</span> data;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_ae42a77e402b671d816666c217c7e85e9"><div class="ttname"><a href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">mrmBufferInfo::bufTx</a></div><div class="ttdeci">mrmDataBufTx * bufTx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00019">devMrmBuf.cpp:19</a></div></div>
<div class="ttc" id="dev_mrm_buf_8cpp_html_a2c53907136ff115a53fcbdc6df404fb0"><div class="ttname"><a href="dev_mrm_buf_8cpp.html#a2c53907136ff115a53fcbdc6df404fb0">BUF_RX</a></div><div class="ttdeci">#define BUF_RX</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00014">devMrmBuf.cpp:14</a></div></div>
<div class="ttc" id="classmrm_data_buf_tx_html"><div class="ttname"><a href="classmrm_data_buf_tx.html">mrmDataBufTx</a></div><div class="ttdef"><b>Definition:</b> <a href="mrm_data_buf_tx_8h_source.html#l00019">mrmDataBufTx.h:19</a></div></div>
<div class="ttc" id="classmrf_1_1_object_html"><div class="ttname"><a href="classmrf_1_1_object.html">mrf::Object</a></div><div class="ttdoc">Base object inspection. </div><div class="ttdef"><b>Definition:</b> <a href="object_8h_source.html#l00378">object.h:378</a></div></div>
<div class="ttc" id="classmrf_1_1_object_html_af4cd81266a005175d9223709db30fa87"><div class="ttname"><a href="classmrf_1_1_object.html#af4cd81266a005175d9223709db30fa87">mrf::Object::getObject</a></div><div class="ttdeci">static Object * getObject(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="object_8cpp_source.html#l00107">object.cpp:107</a></div></div>
<div class="ttc" id="structmrm_buffer_info_html"><div class="ttname"><a href="structmrm_buffer_info.html">mrmBufferInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00017">devMrmBuf.cpp:17</a></div></div>
<div class="ttc" id="dev_mrm_buf_8cpp_html_adb5cdf7bed8cdf45c6c148df6535b192"><div class="ttname"><a href="dev_mrm_buf_8cpp.html#adb5cdf7bed8cdf45c6c148df6535b192">BUF_TX</a></div><div class="ttdeci">#define BUF_TX</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00015">devMrmBuf.cpp:15</a></div></div>
<div class="ttc" id="classdata_buf_rx_html"><div class="ttname"><a href="classdata_buf_rx.html">dataBufRx</a></div><div class="ttdef"><b>Definition:</b> <a href="databuf_8h_source.html#l00062">databuf.h:62</a></div></div>
<div class="ttc" id="structmrm_buffer_info_html_a7d46910fa635f8cf8d55f15b0d5d46db"><div class="ttname"><a href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">mrmBufferInfo::bufRx</a></div><div class="ttdeci">dataBufRx * bufRx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00018">devMrmBuf.cpp:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0f9e5be2c64a544c3f6849437daee723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f9e5be2c64a544c3f6849437daee723">&#9670;&nbsp;</a></span>mrmBufMaxLen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus epicsShareFunc mrmBufMaxLen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">epicsUInt32 *&#160;</td>
          <td class="paramname"><em>maxLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get maximum supported buffer length. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure </td></tr>
    <tr><td class="paramname">maxLength</td><td>Maximum buffer length in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00122">122</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                                                      {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span>(!data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufMaxLen: ERROR: transfer structure not initialized!\n&quot;</span>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        *maxLength = data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>-&gt;<a class="code" href="classmrm_data_buf_tx.html#a8ce3e6ef822f6a3e3e409f1e4385f410">lenMax</a>();</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    } <span class="keywordflow">catch</span>(std::exception &amp;e) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufMaxLen: EXCEPTION: %s\n&quot;</span>, e.what());</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_ae42a77e402b671d816666c217c7e85e9"><div class="ttname"><a href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">mrmBufferInfo::bufTx</a></div><div class="ttdeci">mrmDataBufTx * bufTx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00019">devMrmBuf.cpp:19</a></div></div>
<div class="ttc" id="classmrm_data_buf_tx_html_a8ce3e6ef822f6a3e3e409f1e4385f410"><div class="ttname"><a href="classmrm_data_buf_tx.html#a8ce3e6ef822f6a3e3e409f1e4385f410">mrmDataBufTx::lenMax</a></div><div class="ttdeci">virtual epicsUInt32 lenMax() const OVERRIDE FINAL</div><div class="ttdef"><b>Definition:</b> <a href="mrm_data_buf_tx_8cpp_source.html#l00084">mrmDataBufTx.cpp:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9adfa1825ac074fe8be7fb89f349d41b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9adfa1825ac074fe8be7fb89f349d41b">&#9670;&nbsp;</a></span>mrmBufRegCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus epicsShareFunc mrmBufRegCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#af363c75897d350af10066a370b31a7e3">mrmBufRecievedCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register data receive callback function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to be registered </td></tr>
    <tr><td class="paramname">param</td><td>Parameter which is passed to the calllback when it is executed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00156">156</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                                                                                 {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span>(!data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>) {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufRegCallback: ERROR: receive structure not initialized!\n&quot;</span>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>-&gt;<a class="code" href="classdata_buf_rx.html#aa972387787617d11c7d80c08813bb2df">dataRxAddReceive</a>(callback, pass);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    } <span class="keywordflow">catch</span>(std::exception &amp;e) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufRegCallback: EXCEPTION: %s\n&quot;</span>, e.what());</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_a7d46910fa635f8cf8d55f15b0d5d46db"><div class="ttname"><a href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">mrmBufferInfo::bufRx</a></div><div class="ttdeci">dataBufRx * bufRx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00018">devMrmBuf.cpp:18</a></div></div>
<div class="ttc" id="classdata_buf_rx_html_aa972387787617d11c7d80c08813bb2df"><div class="ttname"><a href="classdata_buf_rx.html#aa972387787617d11c7d80c08813bb2df">dataBufRx::dataRxAddReceive</a></div><div class="ttdeci">virtual void dataRxAddReceive(dataBufComplete fptr, void *arg=0)=0</div><div class="ttdoc">Register to receive data buffers. </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a723e3284624dbb0aeeca2c18aacb2133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a723e3284624dbb0aeeca2c18aacb2133">&#9670;&nbsp;</a></span>mrmBufRxSupported()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus epicsShareFunc mrmBufRxSupported </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether receive buffer is supported. </p>
<p>Since some devices (<a class="el" href="class_e_v_r.html" title="Base interface for EVRs. ">EVR</a> or EVG) might only support transfer functionality this function allows you to check whether you can call all receive-related functions for this device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 1 if supported, 0 if not and -1 if data is NULL. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00067">67</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                                     {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span>(!data) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufRxSupported ERROR: NULL data parameter!\n&quot;</span>);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span>(data-&gt;<a class="code" href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">bufRx</a>) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_a7d46910fa635f8cf8d55f15b0d5d46db"><div class="ttname"><a href="structmrm_buffer_info.html#a7d46910fa635f8cf8d55f15b0d5d46db">mrmBufferInfo::bufRx</a></div><div class="ttdeci">dataBufRx * bufRx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00018">devMrmBuf.cpp:18</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42923c6b71f03edeb9ffb4d8b07ef246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42923c6b71f03edeb9ffb4d8b07ef246">&#9670;&nbsp;</a></span>mrmBufSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus epicsShareFunc mrmBufSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">epicsUInt32&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">epicsUInt8 *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send buffer data. </p>
<p>The function blocks until data is sent completely.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure </td></tr>
    <tr><td class="paramname">len</td><td>Buffer length in bytes </td></tr>
    <tr><td class="paramname">buf</td><td>Array of buffer data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00139">139</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                                                              {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span>(!data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufSend: ERROR: transfer structure not initialized!\n&quot;</span>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>-&gt;<a class="code" href="classmrm_data_buf_tx.html#a65a2049dcb3aadf984330e9c54e79779">dataSend</a>(len, buf);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    } <span class="keywordflow">catch</span>(std::exception &amp;e) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufSend: EXCEPTION: %s\n&quot;</span>, e.what());</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_ae42a77e402b671d816666c217c7e85e9"><div class="ttname"><a href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">mrmBufferInfo::bufTx</a></div><div class="ttdeci">mrmDataBufTx * bufTx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00019">devMrmBuf.cpp:19</a></div></div>
<div class="ttc" id="classmrm_data_buf_tx_html_a65a2049dcb3aadf984330e9c54e79779"><div class="ttname"><a href="classmrm_data_buf_tx.html#a65a2049dcb3aadf984330e9c54e79779">mrmDataBufTx::dataSend</a></div><div class="ttdeci">virtual void dataSend(epicsUInt32 len, const epicsUInt8 *buf) OVERRIDE FINAL</div><div class="ttdoc">Transmit a byte array. </div><div class="ttdef"><b>Definition:</b> <a href="mrm_data_buf_tx_8cpp_source.html#l00090">mrmDataBufTx.cpp:90</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a45152003fe490b8352cc7991a9f32354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45152003fe490b8352cc7991a9f32354">&#9670;&nbsp;</a></span>mrmBufTxSupported()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsStatus epicsShareFunc mrmBufTxSupported </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dev_mrm_buf_8h.html#a59fc5f7e3c82a703c90168cfb0349fe8">mrmBufferInfo_t</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether transferring buffer is supported. </p>
<p>Since some devices (<a class="el" href="class_e_v_r.html" title="Base interface for EVRs. ">EVR</a> or EVG) might only support receive functionality this function allows you to check whether you can call all transfer-related functions for this device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The buffer information data structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 1 if supported, 0 if not and -1 if data is NULL. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dev_mrm_buf_8cpp_source.html#l00081">81</a> of file <a class="el" href="dev_mrm_buf_8cpp_source.html">devMrmBuf.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                                     {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span>(!data) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        errlogPrintf(<span class="stringliteral">&quot;mrmBufTxSupported ERROR: NULL data parameter!\n&quot;</span>);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">if</span>(data-&gt;<a class="code" href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">bufTx</a>) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div><div class="ttc" id="structmrm_buffer_info_html_ae42a77e402b671d816666c217c7e85e9"><div class="ttname"><a href="structmrm_buffer_info.html#ae42a77e402b671d816666c217c7e85e9">mrmBufferInfo::bufTx</a></div><div class="ttdeci">mrmDataBufTx * bufTx</div><div class="ttdef"><b>Definition:</b> <a href="dev_mrm_buf_8cpp_source.html#l00019">devMrmBuf.cpp:19</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jan 31 2024 10:02:19 for mrfioc2 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
